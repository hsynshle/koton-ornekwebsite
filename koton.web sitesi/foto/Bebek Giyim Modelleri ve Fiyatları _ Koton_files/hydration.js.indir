(self.webpackChunkproject_zero=self.webpackChunkproject_zero||[]).push([[219],{9713:function(t){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},226:function(t,e,i){var s=i(9713);class r extends HTMLElement{constructor(){var t;super(),t=this,s(this,"calculateRatio",((t,e)=>Number(e)/Number(t)||1)),s(this,"calculateAspectRatio",((t,e)=>Number(t)/Number(e)||1)),s(this,"getImageRatioFromSource",(t=>{const e=t.split("_").find((t=>t.startsWith("size")));return e?e.substring(4).split("x").reduce(((t,e)=>this.calculateRatio(t,e))):null})),s(this,"getImageRatio",(()=>{const t=this.getImageRatioFromSource(this.image.src);if(t)return t;const e=this.image.getAttribute("data-width"),i=this.image.getAttribute("data-height");return this.calculateRatio(e,i)})),s(this,"generateDummyImage",(()=>{if(this.querySelector(`.${this.dummyImageClass}`))return null;const t=document.createElement("canvas");t.width=this.multiplier,t.height=this.multiplier*this.ratio;const e=t.getContext("2d");e.fillStyle="#eeeeee",e.fillRect(0,0,t.width,t.height);const i=t.toDataURL(),s=new Image;s.classList.add("w-full",this.dummyImageClass),s.src=i,this.append(s)})),s(this,"render",(()=>{const t=this.hasAttribute("lazy")||this.hasAttribute("lazy-ignore-desktop")||this.hasAttribute("lazy-ignore-mobile"),e=this.hasAttribute("lazy-ignore-desktop")&&window.innerWidth>767,i=this.hasAttribute("lazy-ignore-mobile")&&window.innerWidth<768;if(!t||e||i){if((e||i)&&t)this.lazyAnimationRemove(this,this.querySelector("img"));else if(this.hasImage)this.ratio=this.getImageRatio().toFixed(3),this.bindEvents(),this.generateDummyImage(),this.image.classList.add("absolute","top-0","0","w-full","target-image");else if(this.hasPicture){var s;const t=this.picture.querySelectorAll("source"),e=Array.from(t).find((t=>window.matchMedia(t.media).matches)),i=this.picture.querySelector("img"),r=(null==e?void 0:e.srcset)||(null==i?void 0:i.src);if(!r)return null;if(this.bindEvents(),this.ratio=null===(s=this.getImageRatioFromSource(r))||void 0===s?void 0:s.toFixed(3),!this.ratio){const t=(e||i).getAttribute("data-width"),s=(e||i).getAttribute("data-height");this.ratio=this.calculateRatio(t,s).toFixed(3)}this.generateDummyImage(),i.classList.add("absolute","top-0","0","w-full","target-image")}}else this.lazy()})),s(this,"onResize",(()=>{var t;this.currentWindowWidth!=window.innerWidth&&(null===(t=this.picture)||void 0===t||t.querySelectorAll("source[data-srcset]").forEach((t=>{const e=t.getAttribute("data-srcset");t.removeAttribute("data-srcset"),t.setAttribute("srcset",e)})),this.currentWindowWidth=window.innerWidth)})),s(this,"lazyAnimation",(()=>{var t;const e=null===(t=this.picture)||void 0===t?void 0:t.querySelectorAll("source"),i=e&&Array.from(e).find((t=>window.matchMedia(t.media).matches)),s=this.querySelector("img"),r=(i||s).getAttribute("data-width"),a=(i||s).getAttribute("data-height");this.ratio=this.calculateAspectRatio(r,a).toFixed(3),this.ratio&&(this.style.aspectRatio=this.ratio)})),s(this,"lazyAnimationRemove",((t,e)=>{e.removeAttribute("data-src"),t.removeAttribute("lazy"),t.removeAttribute("style")})),s(this,"lazy",(()=>{this.lazyAnimation(),new ResizeObserver(this.onResize).observe(this),new IntersectionObserver((t=>t.map((async t=>{if(t.isIntersecting&&!this.classList.contains("-intersected")){var e;const t=null===(e=this.picture)||void 0===e?void 0:e.querySelectorAll("source"),i=t&&Array.from(t).find((t=>window.matchMedia(t.media).matches)),s=this.querySelector("img"),r=(null==i?void 0:i.getAttribute("data-srcset"))||(null==s?void 0:s.getAttribute("data-src")),a=this.hasAttribute("slider");if(s){if(s.src=r,this.classList.add("-intersected"),a)return void this.lazyAnimationRemove(this,s);s.onload=()=>{this.lazyAnimationRemove(this,s)}}}})))).observe(this)})),s(this,"reset",(function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const i=t.querySelector(".target-image");if(t.classList.remove("relative"),null==i||i.classList.remove("absolute","top-0","start-0","w-full","target-image"),e){const e=t.querySelector(`.${t.dummyImageClass}`);null==e||e.remove()}})),s(this,"bindEvents",(()=>{const t=this.querySelector("img");t.complete&&document.addEventListener("DOMContentLoaded",(()=>{this.reset()})),t.onload=this.reset})),this.currentWindowWidth=window.innerWidth}set rendered(t){this.setAttribute("rendered",t)}connectedCallback(){this.dummyImageClass="js-dummy-img-placeholder",this.image=this.querySelector("img"),this.picture=this.querySelector("picture"),this.hasImage="img"===this.firstElementChild.tagName.toLowerCase(),this.hasPicture="picture"===this.firstElementChild.tagName.toLowerCase(),this.multiplier=100,this.ratio,(this.hasImage||this.hasPicture)&&this.render(),this.classList.add("pz-image-placeholder","block","relative")}disconnectedCallback(){this.reset(!1)}}customElements.define("pz-image-placeholder",r)}},0,[[226,666]]]);